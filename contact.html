<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Contact ‚Ä¢ IEEE SB-MCET</title>
  <meta name="description" content="Contact IEEE SB-MCET ‚Äî email, phone, location, office hours,
      and committee contacts." />
  <meta name="theme-color" content="#0f1020" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <!-- Fast logo preloader with progress -->
  <div class="loader-min" id="loader" aria-hidden="true">
    <div class="loader-card logo-only lg">
      <span class="logo-glow" aria-hidden="true"></span>

      <!-- Dark theme logo -->
      <img class="loader-logo dark" src="./IEEE Logos/IEEE SB MCET LOGOS/SB Logo White.png" alt="IEEE SB-MCET"
        width="220" height="56" />
      <!-- Light theme logo -->
      <img class="loader-logo light" src="./IEEE Logos/IEEE SB MCET LOGOS/SB Logo Black.png" alt="IEEE SB-MCET"
        width="220" height="56" />

      <div class="min-bar" aria-hidden="true">
        <span class="min-fill" id="loaderFill" style="width: 0%"></span>
      </div>
      <div class="min-legend">
        <span id="loaderPct">0%</span>
      </div>
    </div>
  </div>
  <!-- Progress bar -->
  <div class="progress" id="progress"></div>

  <!-- Utility bar -->
  <div class="utility-bar">
    <a href="https://www.ieee.org/" aria-label="IEEE.org">IEEE.org</a>
    <span class="utility-dot"></span>
    <a href="https://ieeexplore.ieee.org/Xplore/home.jsp" aria-label="IEEE Xplore">IEEE Xplore Digital Library</a>
    <span class="utility-dot"></span>
    <a href="https://standards.ieee.org/" aria-label="IEEE Standards">IEEE Standards</a>
    <span class="utility-dot"></span>
    <a href="https://spectrum.ieee.org/" aria-label="IEEE Spectrum">IEEE Spectrum Online</a>
    <span class="utility-dot"></span>
    <a href="https://www.ieee.org/sitemap.html" aria-label="More IEEE Sites">More IEEE Sites</a>
  </div>


  <!-- Header -->
  <header class="nav" id="nav">
    <div class="nav-inner">
      <!-- Left logo -->
      <a href="index.html" class="logo logo-left" aria-label="IEEE SB-MCET">
        <img class="logo-img dark" src="./IEEE Logos/IEEE SB MCET LOGOS/SB Logo White.png"
          alt="IEEE SB-MCET logo (dark)" width="220" height="56" />
        <img class="logo-img light" src="./IEEE Logos/IEEE SB MCET LOGOS/SB Logo Black.png"
          alt="IEEE SB-MCET logo (light)" width="220" height="56" />
      </a>

      <nav class="menu">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="events.html">Events</a>
        <a href="gallery.html">Gallery</a>
        <a href="execom.html">ExeCom</a>
        <a href="contact.html">Contact</a>
      </nav>

      <!-- Right logo -->
      <a href="#" class="logo logo-right" aria-label="IEEE">
        <img class="logo-img dark" src="./IEEE Logos/ieee mb white png.png" alt="IEEE MB logo (dark)" width="200"
          height="56" />
        <img class="logo-img light" src="./IEEE Logos/ieee mb black png.png" alt="IEEE MB logo (light)" width="200"
          height="56" />
      </a>
    </div>

    <!-- Mobile dropdown (nav + utility) -->
    <div class="mobile-menu" id="mobileMenu">
      <nav class="menu-mobile">
        <a href="about.html">About <span class="arrow">‚Ä∫</span></a>
        <a href="events.html">Events <span class="arrow">‚Ä∫</span></a>
        <a href="gallery.html">Gallery <span class="arrow">‚Ä∫</span></a>
        <a href="index.html#yearbook">Yearbook <span class="arrow">‚Ä∫</span></a>
        <a href="execom.html">ExeCom <span class="arrow">‚Ä∫</span></a>
        <a href="contact.html">Contact <span class="arrow">‚Ä∫</span></a>
      </nav>

      <div class="mobile-utility">
        <a href="https://www.ieee.org/">IEEE.org</a>
        <span>‚Ä¢</span>
        <a href="https://ieeexplore.ieee.org/Xplore/home.jsp">IEEE Xplore</a>
        <span>‚Ä¢</span>
        <a href="https://standards.ieee.org/">IEEE Standards</a>
        <span>‚Ä¢</span>
        <a href="https://spectrum.ieee.org/">IEEE Spectrum</a>
        <span>‚Ä¢</span>
        <a href="https://www.ieee.org/sitemap.html">More IEEE Sites</a>
      </div>

      <!-- Close button -->
      <button class="menu-close" id="menuClose" aria-label="Close menu">&times;</button>
    </div>

  </header>

  <!-- Hero -->
  <section class="hero">
    <canvas class="hero-canvas" id="space"></canvas>
    <div class="hero-gradient" aria-hidden="true"></div>
    <!-- Hamburger button -->
    <button class="menu-toggle" aria-label="Open menu">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>
    <div class="hero-inner">
      <div>
        <div class="hero-badge" data-reveal>
          <span class="dot"></span>
          <span>Contact</span>
        </div>
        <h1 class="title" id="heroTitle">
          Get in touch with
          <span class="gradient">IEEE SB‚ÄëMCET</span>
        </h1>
        <p class="subtitle">
          Have a question, idea or suggestion? Get in touch with us ,the IEEE SB-MCET team is 
          always happy to connect and assist you.
        </p>
        <div class="hero-cta">
          <a class="btn btn-primary magnetic" href="#reach">
            Reach Us
            <span aria-hidden="true">‚ü∂</span>
            <span class="shine"></span>
          </a>
          <a class="btn btn-ghost magnetic" href="mailto:ieeesb@mcet.ac.in">
            Email Us
            <span class="shine"></span>
          </a>
        </div>
      </div>

      <div class="card tilt" data-reveal>
        <div class="shine"></div>
        <h3 class="card-title"> Let's stay connected.</h3>
        <p class="card-text">
         
          No matter who you are student, faculty, alumnus or partner
          we're here to assist and collaborate.
        </p>
        <div class="chips">
          <a class="chip" href="#reach">General</a>
          <a class="chip" href="#collab">Partnerships</a>
          <a class="chip" href="#committee">ExeCom</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Reach us -->
  <section id="reach">
    <div class="container">
      <div class="section-head">
        <h2 class="section-title">Reach Us</h2>
        <p class="section-sub">
          Use the form or email us directly. We typically respond within
          24‚Äì48 hours on working days.
        </p>
      </div>

      <div class="contact-grid">
        <div class="map tilt" data-reveal aria-label="MCET campus map placeholder">
          <div class="shine"></div>
        </div>

        <form class="card form" name="contact-page" data-reveal netlify netlify-honeypot="bot-field" onsubmit="handleContactSubmit(event)">
          <input type="hidden" name="bot-field" />
          <div class="input">
            <label for="name">Your Name</label>
            <input id="name" name="name" placeholder="John Doe" required />
          </div>
          <div class="input">
            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@mcet.edu" required />
          </div>
          <div class="input">
            <label for="subject">Subject</label>
            <input id="subject" name="subject" placeholder="e.g., Event proposal, Collaboration, Query" required />
          </div>
          <div class="input">
            <label for="msg">Message</label>
            <textarea id="msg" name="message" placeholder="Tell us how we can help..." required></textarea>
          </div>
          <div class="form-actions">
            <button class="btn btn-primary magnetic" type="submit">
              Send Message
              <span class="shine"></span>
            </button>
            <a class="btn btn-ghost magnetic" href="mailto:ieeesb@mcet.ac.in">
              Email Us
              <span class="shine"></span>
            </a>
            <a class="btn btn-ghost magnetic" href="tel:+91 88910 47315">
              Call
              <span class="shine"></span>
            </a>
          </div>
        </form>
      </div>

      <!-- Quick channels -->
      <div class="card" data-reveal style="margin-top: 16px">
        <div class="chips">
          <a class="chip" href="mailto:ieeesb@mcet.ac.in">ieeesb@mcet.ac.in</a>
          <a class="chip" href="tel:+91 88910 47315">+91 8891047315</a>
          <a class="chip" href="https://www.instagram.com/ieee_sb_mcet?igsh=MTR3d2RsZW90dmd3ZQ==" target="_blank" rel="noopener">Instagram</a>
          <a class="chip" href="https://www.linkedin.com/company/ieee-sb-mcet-stb64741/posts/?feedView=all" target="_blank" rel="noopener">LinkedIn</a>
          
        </div>
        <p class="section-sub" style="margin-top: 10px">
          Address: MCET Campus, Civil Block, Kerala, India
        </p>
      </div>
    </div>
  </section>

  <!-- Office hours / stats -->
 <!--  <section id="hours">
    <div class="container">
      <div class="section-head">
        <h2 class="section-title">Office Hours</h2>
        <p class="section-sub">
          Drop by our desk or meet us at scheduled times.
        </p>
      </div>

      <div class="stats stagger">
        <div class="card stat">
          <div class="num">Mon‚ÄìFri</div>
          <div class="label">10:00 AM ‚Äì 4:30 PM</div>
        </div>
        <div class="card stat">
          <div class="num">24‚Äì48 hrs</div>
          <div class="label">Avg. Response Time</div>
        </div>
        <div class="card stat">
          <div class="num">ECE Dept.</div>
          <div class="label">SB Room / Lab 2</div>
        </div>
      </div>
    </div>
  </section> -->

  <!-- Partnerships -->
  <section id="collab">
    <div class="container">
      <div class="section-head">
        <h2 class="section-title">Partnerships & Collaborations</h2>
        <p class="section-sub">
          Host a workshop, mentor students, sponsor a program, or collaborate
          on projects ‚Äî let‚Äôs build together.
        </p>
      </div>

      <div class="split">
        <div class="card media-card tilt" data-reveal>
          <div class="media-img" style="background:
                linear-gradient(135deg, rgba(var(--accent-2),.22),
                rgba(var(--accent),.2)),
                url('asset/mou.png')
                center/cover no-repeat;">
            <div class="shine"></div>
          </div>
          <div class="media-body">
            <h3 class="card-title">Industry & Community</h3>
            <p class="section-sub">
              Share expertise, offer internships, or sponsor learning
              initiatives. We‚Äôll tailor programs to your goals.
            </p>
            <div class="hero-cta">
              <a class="btn btn-primary magnetic" href="mailto:ieeesb@mcet.ac.in">
                Propose Collaboration
                <span class="shine"></span>
              </a>
              <a class="btn btn-ghost magnetic" href="events.html">
                See Events
                <span class="shine"></span>
              </a>
            </div>
          </div>
        </div>

        <div class="card media-card tilt" data-reveal>
          <div class="media-img" style="background:
                linear-gradient(135deg, rgba(var(--accent-3),.22),
                rgba(var(--accent-2),.2)),
                url('asset/speaker.png')
                center/cover no-repeat;">
            <div class="shine"></div>
          </div>
          <div class="media-body">
            <h3 class="card-title">Speakers & Mentors</h3>
            <p class="section-sub">
              Volunteer for talks, critiques, or mentorship circles. Help
              students turn ideas into shipped work.
            </p>
            <div class="hero-cta">
              <a class="btn btn-primary magnetic" href="mailto:ieeesb@mcet.ac.in">
                Become a Mentor
                <span class="shine"></span>
              </a>
              <a class="btn btn-ghost magnetic" href="gallery.html">
                View Gallery
                <span class="shine"></span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Committee contacts -->
  <section id="team">
    <div class="container">
      <div class="section-head">
        <h2 class="section-title">Meet Our Team (ExeCom)</h2>
        <a class="btn btn-ghost magnetic" href="execom.html">View Full ExeCom</a>
      </div>
      <div class="team" data-reveal id="teamGrid">
        <!-- Loading placeholder -->
        <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #64748b;">
          <div style="font-size: 3rem; margin-bottom: 1rem;">üë•</div>
          <p>Loading team members...</p>
        </div>
      </div>
    </div>
  </section>


  <!-- FAQs -->
  <section id="faqs">
    <div class="container">
      <div class="section-head">
        <h2 class="section-title">FAQs</h2>
        <p class="section-sub">Quick answers to common queries.</p>
      </div>

      <div class="faq">
        <div class="faq-item card" data-reveal>
          <button class="faq-q" aria-expanded="false">
            How soon will I get a reply?
            <span class="faq-toggle">+</span>
          </button>
          <div class="faq-a">
            We aim to respond within 24‚Äì48 hours on working days. For urgent
            matters, call the listed number.
          </div>
        </div>

        <div class="faq-item card" data-reveal>
          <button class="faq-q" aria-expanded="false">
            Can I propose a workshop or talk?
            <span class="faq-toggle">+</span>
          </button>
          <div class="faq-a">
            Yes. Email us a short outline, target audience, and preferred
            dates. The team will help you schedule and host it.
          </div>
        </div>

        <div class="faq-item card" data-reveal>
          <button class="faq-q" aria-expanded="false">
            Do you provide participation certificates?
            <span class="faq-toggle">+</span>
          </button>
          <div class="faq-a">
            Certificates are provided for selected events. Check the event
            page or email the coordinator for details.
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section id="cta">
    <div class="container">
      <div class="card media-card" data-reveal>
        <div class="media-img tilt" style="background:
              linear-gradient(135deg, rgba(var(--accent-3),.22),
              rgba(var(--accent),.2)),
              url('asset/want to build.png')
              center/cover no-repeat;">
          <div class="shine"></div>
        </div>
        <div class="media-body">
          <h3 class="card-title">Let‚Äôs build something together</h3>
          <p class="section-sub">
            From ideation to execution ‚Äî partner with us to create meaningful
            learning experiences on campus.
          </p>
          <div class="hero-cta">
            <a class="btn btn-primary magnetic" href="mailto:info@mcet.edu">
              Start a Conversation
              <span class="shine"></span>
            </a>
            <a class="btn btn-ghost magnetic" href="events.html">
              Explore Events
              <span class="shine"></span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="modern-footer">
    <div class="footer-container">
      <div class="footer-brand">
        <div class="footer-logo">
          <img class="logo-img dark" src="./IEEE Logos/IEEE SB MCET LOGOS/SB Logo White.png" alt="IEEE SB-MCET" width="160" height="40" />
          <img class="logo-img light" src="./IEEE Logos/IEEE SB MCET LOGOS/SB Logo Black.png" alt="IEEE SB-MCET" width="160" height="40" />
        </div>
        <p class="footer-tagline">Empowering innovation and excellence through technology and collaboration.</p>
        <div class="social-links">
          <a href="https://www.linkedin.com/company/ieee-sb-mcet/" class="social-icon" aria-label="LinkedIn" title="LinkedIn">
            <i class="fab fa-linkedin-in"></i>
          </a>
          <a href="https://www.instagram.com/ieee_sb_mcet/" class="social-icon" aria-label="Instagram" title="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="https://www.youtube.com/@ieeesbmcet" class="social-icon" aria-label="YouTube" title="YouTube">
            <i class="fab fa-youtube"></i>
          </a>
          <a href="https://wa.me/919876543210" class="social-icon" aria-label="WhatsApp" title="WhatsApp">
            <i class="fab fa-whatsapp"></i>
          </a>
        </div>
      </div>

      <div class="footer-links-grid">
        <div class="footer-column">
          <h4 class="footer-title">Explore</h4>
          <ul class="footer-link-list">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="events.html">Events</a></li>
            <li><a href="gallery.html">Gallery</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4 class="footer-title">Community</h4>
          <ul class="footer-link-list">
            <li><a href="execom.html">ExeCom</a></li>
            <li><a href="index.html#yearbook">Yearbook</a></li>
            <li><a href="mcetupdate.html">Updates</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4 class="footer-title">IEEE</h4>
          <ul class="footer-link-list">
            <li><a href="https://www.ieee.org/" target="_blank">IEEE.org</a></li>
            <li><a href="https://ieeexplore.ieee.org/" target="_blank">IEEE Xplore</a></li>
            <li><a href="https://standards.ieee.org/" target="_blank">Standards</a></li>
            <li><a href="https://spectrum.ieee.org/" target="_blank">Spectrum</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-newsletter">
        <h4 class="footer-title">Stay Updated</h4>
        <p class="footer-sub">Get the latest news and updates from IEEE SB-MCET.</p>
        <form class="newsletter-form" name="newsletter" netlify netlify-honeypot="bot-field" onsubmit="handleNewsletterSubmit(event)">
          <input type="hidden" name="bot-field" />
          <input type="email" name="email" placeholder="your@email.com" class="newsletter-input" required />
          <button type="submit" class="newsletter-btn">Subscribe</button>
        </form>
      </div>
    </div>

    <div class="footer-divider"></div>

    <div class="footer-bottom">
      <div class="footer-credit">
        <p>&copy; <span id="year"></span> IEEE SB-MCET. Developed by <a href="https://grafyo.in" target="_blank" class="grafyo-link">Team Grafyo</a> and <strong>IEEE SB-MCET</strong>.</p>
      </div>
      <div class="footer-policies">
        <a href="policies.html">Privacy Policy</a>
        <span class="divider">‚Ä¢</span>
        <a href="policies.html">Terms of Service</a>
        <span class="divider">‚Ä¢</span>
        <a href="sitemap.html">Sitemap</a>
      </div>
    </div>
  </footer>

  <!-- Bottom color switcher -->
  <div class="switcher" id="switcher" role="group" aria-label="Color switcher">
    <button class="swatch theme" id="switchTheme" title="Toggle theme">
      üåó
    </button>
    <button class="swatch ocean" data-preset="ocean" title="Ocean"></button>
    <button class="swatch violet" data-preset="violet" title="Violet"></button>
    <button class="swatch sunset" data-preset="sunset" title="Sunset"></button>
    <button class="swatch emerald" data-preset="emerald" title="Emerald">
    </button>
    <button class="swatch amber" data-preset="amber" title="Amber"></button>
  </div>

  <!-- Custom cursor -->
  <div class="cursor" id="cursor"></div>

  <script src="./script.js"></script>
 <script type="module">
    // ============================================
// INDEX PAGE FIREBASE INTEGRATION
// Dynamically load Events, Gallery, and ExeCom from Firebase
// ============================================

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { 
  getFirestore, 
  collection, 
  getDocs, 
  query, 
  orderBy,
  limit,
  doc,
  getDoc,
  where
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

// ============================================
// FIREBASE INITIALIZATION
// ============================================
const firebaseConfig = {
  apiKey: "AIzaSyBDTXfo3tp-go9Ik5P0pMPl4wQWC-ZPtqo",
  authDomain: "ieee-sb-mcet-35fd1.firebaseapp.com",
  projectId: "ieee-sb-mcet-35fd1",
  storageBucket: "ieee-sb-mcet-35fd1.firebasestorage.app",
  messagingSenderId: "293340494704",
  appId: "1:293340494704:web:8898a2fa50be3130792db5",
  measurementId: "G-FJKGYYHNC7"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

console.log('‚úÖ Firebase initialized for Index page');

// ============================================
// UTILITY FUNCTIONS
// ============================================
function escapeHtml(text) {
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}

function truncate(text, maxLength) {
  if (!text) return '';
  return text.length > maxLength 
    ? escapeHtml(text.substring(0, maxLength)) + '...'
    : escapeHtml(text);
}

// ============================================
// LOAD QUICK LINKS (Coming Soon & Live Now)
// ============================================
async function loadQuickLinks() {
  try {
    const comingSoonDoc = await getDoc(doc(db, 'quick-links', 'coming-soon'));
    if (comingSoonDoc.exists()) {
      const data = comingSoonDoc.data();
      updateUpcomingCard(data);
    }

    const liveNowDoc = await getDoc(doc(db, 'quick-links', 'live-now'));
    if (liveNowDoc.exists()) {
      const data = liveNowDoc.data();
      updateLiveNowCard(data);
    }

    console.log('‚úÖ Loaded Quick Links');
  } catch (error) {
    console.error('Error loading quick links:', error);
  }
}

function updateUpcomingCard(data) {
  const upCard = document.getElementById('upCard');
  const upBadge = document.getElementById('upBadge');
  const upName = document.getElementById('upName');
  const upWhen = document.getElementById('upWhen');

  if (upCard && data.status === 'active') {
    upCard.style.display = 'flex';
    upCard.dataset.status = 'upcoming';
    
    if (data.imageUrl) {
      const thumb = upCard.querySelector('.thumb');
      if (thumb) thumb.style.setProperty('--img', `url('${data.imageUrl}')`);
    }
    
    if (upBadge) upBadge.textContent = data.badge || 'Upcoming';
    if (upName) upName.textContent = data.title || 'Event';
    if (upWhen) upWhen.textContent = data.subtitle || '';

    if (data.ctaUrl) {
      upCard.style.cursor = 'pointer';
      upCard.onclick = () => window.open(data.ctaUrl, '_blank');
    }
  } else if (upCard) {
    upCard.style.display = 'none';
  }
}

function updateLiveNowCard(data) {
  const liveCard = document.getElementById('liveNow');
  const liveBadge = document.getElementById('liveNowBadge');
  const liveName = document.getElementById('liveNowName');
  const liveWhen = document.getElementById('liveNowWhen');

  if (liveCard && data.status === 'live') {
    liveCard.style.display = 'flex';
    liveCard.dataset.status = 'live';
    
    if (data.imageUrl) {
      const thumb = liveCard.querySelector('.thumb');
      if (thumb) thumb.style.setProperty('--img', `url('${data.imageUrl}')`);
    }
    
    if (liveBadge) liveBadge.textContent = data.badge || 'Live';
    if (liveName) liveName.textContent = data.title || 'Live Event';
    if (liveWhen) liveWhen.textContent = data.subtitle || '';

    if (data.ctaUrl) {
      liveCard.style.cursor = 'pointer';
      liveCard.onclick = () => window.open(data.ctaUrl, '_blank');
    }
  } else if (liveCard) {
    liveCard.style.display = 'none';
  }
}

// ============================================
// LOAD EVENTS
// ============================================
async function loadEvents() {
  try {
    const q = query(
      collection(db, 'events'),
      orderBy('createdAt', 'desc'),
      limit(12)
    );
    
    const snapshot = await getDocs(q);
    const events = snapshot.docs.map(doc => ({
      id: doc.id,
      ...doc.data()
    }));

    renderEvents(events);
    console.log(`‚úÖ Loaded ${events.length} events`);
  } catch (error) {
    console.error('Error loading events:', error);
    renderEventsError();
  }
}

function renderEvents(events) {
  const track = document.getElementById('eventTrack');
  if (!track) return;

  if (events.length === 0) {
    track.innerHTML = `
      <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #64748b;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">üìã</div>
        <p>No events yet. Check back soon!</p>
      </div>
    `;
    return;
  }

  track.innerHTML = events.map(event => `
    <article class="card event tilt evt">
      <div class="shine"></div>
      <div class="media">
        ${event.imageUrl ? `<img src="${event.imageUrl}" alt="${escapeHtml(event.title)}" />` : '<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 100%;"></div>'}
        <div class="overlay"></div>
      </div>
      <div class="meta">
        <span class="tag">${event.featured ? '‚≠ê Featured' : 'Event'}</span>
        <h4 class="card-title-sm">${escapeHtml(event.title)}</h4>
        <p class="section-sub">${truncate(event.summary, 60)}</p>
      </div>
    </article>
  `).join('');

  initializeCarousel();
}

function renderEventsError() {
  const track = document.getElementById('eventTrack');
  if (!track) return;
  
  track.innerHTML = `
    <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #ef4444;">
      <div style="font-size: 3rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
      <p>Failed to load events. Please refresh the page.</p>
    </div>
  `;
}

// ============================================
// LOAD GALLERY
// ============================================
async function loadGallery() {
  try {
    const q = query(
      collection(db, 'gallery'),
      orderBy('order', 'asc'),
      limit(6)
    );
    
    const snapshot = await getDocs(q);
    const gallery = snapshot.docs.map(doc => ({
      id: doc.id,
      ...doc.data()
    }));

    renderGallery(gallery);
    console.log(`‚úÖ Loaded ${gallery.length} gallery images`);
  } catch (error) {
    console.error('Error loading gallery:', error);
    renderGalleryError();
  }
}

function renderGallery(items) {
  const grid = document.getElementById('galleryGrid');
  if (!grid) return;

  if (items.length === 0) {
    grid.innerHTML = `
      <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #64748b;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">üñºÔ∏è</div>
        <p>No gallery images yet. Check back soon!</p>
      </div>
    `;
    return;
  }

  grid.innerHTML = items.map(item => `
    <a class="tile tilt" onclick="openLightbox('${item.imageUrl}')">
      <div class="shine"></div>
      <img alt="${escapeHtml(item.title || 'Gallery image')}" src="${item.imageUrl}" loading="lazy" />
    </a>
  `).join('');
}

function renderGalleryError() {
  const grid = document.getElementById('galleryGrid');
  if (!grid) return;
  
  grid.innerHTML = `
    <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #ef4444;">
      <div style="font-size: 3rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
      <p>Failed to load gallery. Please refresh the page.</p>
    </div>
  `;
}

window.openLightbox = function(imageUrl) {
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = document.getElementById('lightboxImg');
  
  if (lightbox && lightboxImg) {
    lightboxImg.src = imageUrl;
    lightbox.style.display = 'flex';
    
    lightbox.onclick = () => {
      lightbox.style.display = 'none';
    };
  }
};

// ============================================
// LOAD EXECOM MEMBERS - FIXED ORDER
// ============================================
async function loadExecom() {
  try {
    // Fetch ALL Core Committee members (no limit yet)
    const baseQuery = query(
      collection(db, 'execom-sections'),
      where('sectionName', '==', 'Core Committee')
    );

    const snapshot = await getDocs(baseQuery);
    let members = snapshot.docs.map(doc => ({
      id: doc.id,
      ...doc.data()
    }));

    if (members.length === 0) {
      throw new Error('No Core Committee members found');
    }

    // Define the exact desired order for 2025-26
    const desiredOrder = [
      "Vignesh Narrayan S S",     // Chairperson
      "Jasi Ansari",              // Secretary
      "Anantha Padmanabhan P",    // Vice Chair
      "Aiswarya M",               // Treasurer
      "Neeraj J",                 // Webmaster
      "Naina Mariam Anish"        // ECC | Student Relations
    ];

    // Sort members based on the desired order
    members.sort((a, b) => {
      const indexA = desiredOrder.indexOf(a.name?.trim());
      const indexB = desiredOrder.indexOf(b.name?.trim());
      
      // If name not in list, push to end
      if (indexA === -1) return 1;
      if (indexB === -1) return -1;
      return indexA - indexB;
    });

    // Now limit to 6 (in case there are more)
    members = members.slice(0, 6);

    renderExecom(members);
    console.log(`‚úÖ Loaded and sorted ${members.length} Core Committee members in fixed order`);

  } catch (error) {
    console.error('‚ùå Error loading Core Panel:', error);
    renderExecomError();
  }
}

function renderExecom(members) {
  const grid = document.getElementById('teamGrid');
  if (!grid) return;

  if (members.length === 0) {
    grid.innerHTML = `
      <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #64748b;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">üë•</div>
        <p>No team members yet. Check back soon!</p>
      </div>
    `;
    return;
  }

  grid.innerHTML = members.map(member => `
    <div class="card member tilt">
      <div class="avatar" style="--img: url('${member.imageUrl || 'https://via.placeholder.com/150'}')"></div>
      <div>
        <h4>${escapeHtml(member.name)}</h4>
        <div class="role">${escapeHtml(member.position)}</div>
      </div>
      <div class="shine"></div>
    </div>
  `).join('');
}

function renderExecomError() {
  const grid = document.getElementById('teamGrid');
  if (!grid) return;
  
  grid.innerHTML = `
    <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #ef4444;">
      <div style="font-size: 3rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
      <p>Failed to load team members. Please refresh the page.</p>
    </div>
  `;
}

// ============================================
// CAROUSEL INITIALIZATION
// ============================================
function initializeCarousel() {
  const track = document.getElementById('eventTrack');
  const prevBtn = document.getElementById('prevEvt');
  const nextBtn = document.getElementById('nextEvt');
  
  if (!track || !prevBtn || !nextBtn) {
    console.error('Missing carousel elements!');
    return;
  }

  const cards = Array.from(track.querySelectorAll('.evt'));
  if (cards.length === 0) return;

  cards.forEach(card => {
    const cloneAfter = card.cloneNode(true);
    const cloneBefore = card.cloneNode(true);
    track.appendChild(cloneAfter);
    track.insertBefore(cloneBefore, track.firstChild);
  });

  const allCards = track.querySelectorAll('.evt');
  let currentIndex = cards.length;
  let isTransitioning = false;
  
  function getCardWidth() {
    const card = allCards[0];
    const style = getComputedStyle(track);
    const gap = parseInt(style.gap || '20');
    return card.offsetWidth + gap;
  }
  
  function updateCarousel(smooth = true) {
    const cardWidth = getCardWidth();
    const offset = -currentIndex * cardWidth;
    track.style.transition = smooth ? 'transform 0.5s ease' : 'none';
    track.style.transform = `translateX(${offset}px)`;
  }

  function handleTransitionEnd() {
    isTransitioning = false;
    
    if (currentIndex <= 0) {
      currentIndex = cards.length;
      updateCarousel(false);
    } else if (currentIndex >= cards.length * 2) {
      currentIndex = cards.length;
      updateCarousel(false);
    }
  }

  track.addEventListener('transitionend', handleTransitionEnd);

  prevBtn.addEventListener('click', (e) => {
    e.preventDefault();
    if (isTransitioning) return;
    isTransitioning = true;
    currentIndex--;
    updateCarousel(true);
  });

  nextBtn.addEventListener('click', (e) => {
    e.preventDefault();
    if (isTransitioning) return;
    isTransitioning = true;
    currentIndex++;
    updateCarousel(true);
  });

  updateCarousel(false);
  
  window.addEventListener('resize', () => updateCarousel(false));
}

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initializeCarousel);
} else {
  initializeCarousel();
}

// ============================================
// INITIALIZE ON LOAD
// ============================================
document.addEventListener('DOMContentLoaded', async () => {
  console.log('üöÄ Loading Firebase content for index page...');
  
  try {
    await Promise.all([
      loadQuickLinks(),
      loadEvents(),
      loadGallery(),
      loadExecom()
    ]);
    
    console.log('‚úÖ All content loaded successfully');
  } catch (error) {
    console.error('‚ùå Error loading content:', error);
  }
});
</script>
</body>

</html>